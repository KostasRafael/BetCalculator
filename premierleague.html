<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/components/single-team-container/single-team-container.css">
    <link rel="stylesheet" href="./assets/components/fixtures-row/fixtures-row.css">
    <link rel="stylesheet" href="./assets/components/close-button/close-button.css">
    <link rel="stylesheet" href="./assets/components/navigation/navigation.css">
    <link rel="stylesheet" href="./assets/components/next-fixture-row/next-fixture-row.css">
    <link rel="stylesheet" href="./premierleague.css" type="text/css">
</head>

<body>
    <navigation-custom></navigation-custom>

    <section class="laptop-next-fixtures">
        <div class="keyboard-screen">
            <div class="screen">
                <div class="data-div data-div-one"> </div>
                <div class="data-div data-div-two"></div>
            </div>

            <div class="all-teams-container">
                <single-team-container class="team-div arsenal" team-name="Arsenal"
                    team-logo="olympiakos.png"></single-team-container>
                <single-team-container class="team-div man-city" team-name="ManCity"
                    team-logo="aek.png"></single-team-container>
                <single-team-container class="team-div liverpool" team-name="Liverpool"
                    team-logo="aris.png"></single-team-container>
                <single-team-container class="team-div bournemouth" team-name="Bournemouth"
                    team-logo="panseraikos.png"></single-team-container>
                <single-team-container class="team-div chelsea" team-name="Chelsea"
                    team-logo="panseraikos.png"></single-team-container>
                <single-team-container class="team-div tottenham" team-name="Tottenham"
                    team-logo="asteras-tripolis.png"></single-team-container>
                <single-team-container class="team-div sunderland" team-name="Sunderland"
                    team-logo="kifisia.jpg"></single-team-container>
                <single-team-container class="team-div crystal-palace" team-name="CrystalPalace"
                    team-logo="panetolikos.jpg"></single-team-container>
                <single-team-container class="team-div man-united" team-name="ManUnited"
                    team-logo="ofi.png"></single-team-container>
                <single-team-container class="team-div brighton" team-name="Brighton"
                    team-logo="ael.png"></single-team-container>
                <single-team-container class="team-div aston-villa" team-name="AstonVilla"
                    team-logo="atromitos.jpg"></single-team-container>
                <single-team-container class="team-div everton" team-name="Everton"
                    team-logo="levadiakos.png"></single-team-container>
                <single-team-container class="team-div brentford" team-name="Brentford"
                    team-logo="paok.jpg"></single-team-container>
                <single-team-container class="team-div newcastle" team-name="Newcastle"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div fulham" team-name="Fulham"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div leeds-united" team-name="LeedsUnited"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div burnley" team-name="Burnley"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div nottm-forest" team-name="NottmForest"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div west-ham" team-name="WestHam"
                    team-logo="panathinaikos.png"></single-team-container>
                <single-team-container class="team-div wolves" team-name="Wolves"
                    team-logo="panathinaikos.png"></single-team-container>
            </div>
        </div>

        <div class="next-fixtures-container">
            <h4 class="next-fixture-row-h4">Upcoming Fixtures</h4>
        </div>
    </section>
    <script src="./premierleague-next-seven-games-odds.js"></script>
    <script src="./assets/components/next-fixture-row/next-fixture-row.js"></script>
    <script src="https://kit.fontawesome.com/50ab0d686f.js" crossorigin="anonymous"></script>
    <script src="./premier-league-funcions.js"></script>
    <script src="./assets/components/navigation/navigation.js"></script>
    <script src="./assets/components/close-button/close-button.js"></script>
    <script src="./assets/components/fixtures-row/fixtures-row.js"></script>
    <script src="./assets/components/single-team-container/single-team-container.js" type="module" defer></script>
</body>
<script>
    const headers = {
        "x-rapidapi-host": "v3.football.api-sports.io",
        "x-rapidapi-key": "94d01bff67718f85de3f0532069fbbf1",
    };


    // To display logo image

    let manchesterLogo;
    let newcastleLogo;
    let bournemouthLogo;
    let fulhamLogo;
    let wolvesLogo;
    let liverpoolLogo;
    let arsenalLogo;
    let burnleyLogo;
    let evertonLogo;
    let tottenhamLogo;
    let westhamLogo;
    let chelseaLogo;
    let manchesterCityLogo;
    let brightonLogo;
    let crystalpalaceLogo;
    let brentfordLogo;
    let leedsLogo;
    let nottinghamForestLogo;
    let astonVillaLogo;
    let sunderlandLogo;


    function fetchAllTeams() {
        return fetch("https://v3.football.api-sports.io/teams?league=39&season=2025", { headers }).then(response => response.json())
            .then((data) => {
                const allteams = data.response;
                console.log("allTeams", allteams);
                return allteams;
            });
    }

    async function extractAllTeams() {
        const allTeamsArray = await fetchAllTeams();
        allTeamsArray.map(team => {
            console.log("all", allTeamsArray)
            let teamName = team.team.name;
            console.log("name", teamName);
            let teamLogo = team.team.logo;
            if (teamName === "Manchester United") {
                manchesterLogo = teamLogo;
            } else if (teamName === "Newcastle") {
                newcastleLogo = teamLogo;
            } else if (teamName === "Bournemouth") {
                bournemouthLogo = teamLogo;
            } else if (teamName === "Fulham") {
                fulhamLogo = teamLogo;
            } else if (teamName === "Wolves") {
                wolvesLogo = teamLogo;
            } else if (teamName === "Liverpool") {
                liverpoolLogo = teamLogo;
            } else if (teamName === "Arsenal") {
                arsenalLogo = teamLogo;
            } else if (teamName === "Burnley") {
                burnleyLogo = teamLogo;
            } else if (teamName === "Everton") {
                evertonLogo = teamLogo;
            } else if (teamName === "Tottenham") {
                tottenhamLogo = teamLogo;
            } else if (teamName === "West Ham") {
                westhamLogo = teamLogo;
            } else if (teamName === "Chelsea") {
                chelseaLogo = teamLogo;
            } else if (teamName === "Manchester City") {
                manchesterCityLogo = teamLogo;
            } else if (teamName === "Brighton") {
                brightonLogo = teamLogo;
            } else if (teamName === "Crystal Palace") {
                crystalpalaceLogo = teamLogo;
            } else if (teamName === "Brentford") {
                brentfordLogo = teamLogo;
            } else if (teamName === "Leeds") {
                leedsLogo = teamLogo;
            } else if (teamName === "Nottingham Forest") {
                nottinghamForestLogo = teamLogo;
            } else if (teamName === "Aston Villa") {
                astonVillaLogo = teamLogo;
            } else if (teamName === "Sunderland") {
                sunderlandLogo = teamLogo;
            }
        })

        const allTeamsContainer = document.querySelector(".all-teams-container");
        allTeamsContainer.innerHTML = `
    <single-team-container class="team-div arsenal" team-name="Arsenal"
                    team-logo="${arsenalLogo}"></single-team-container>
                <single-team-container class="team-div man-city" team-name="ManCity"
                   team-logo="${manchesterCityLogo}"></single-team-container>
                <single-team-container class="team-div liverpool" team-name="Liverpool"
                    team-logo="${liverpoolLogo}"></single-team-container>
                <single-team-container class="team-div bournemouth" team-name="Bournemouth"
                    team-logo="${bournemouthLogo}"></single-team-container>
                <single-team-container class="team-div chelsea" team-name="Chelsea"
                   team-logo="${chelseaLogo}"></single-team-container>
                <single-team-container class="team-div tottenham" team-name="Tottenham"
                   team-logo="${tottenhamLogo}"></single-team-container>
                <single-team-container class="team-div sunderland" team-name="Sunderland"
                    team-logo="${sunderlandLogo}"></single-team-container>
                <single-team-container class="team-div crystal-palace" team-name="CrystalPalace"
                    team-logo="${crystalpalaceLogo}"></single-team-container>
                <single-team-container class="team-div man-united" team-name="ManUnited"
                  team-logo="${manchesterLogo}"></single-team-container>
                <single-team-container class="team-div brighton" team-name="Brighton"
                   team-logo="${brightonLogo}"></single-team-container>
                <single-team-container class="team-div aston-villa" team-name="AstonVilla"
                   team-logo="${astonVillaLogo}"></single-team-container>
                <single-team-container class="team-div everton" team-name="Everton"
                    team-logo="${evertonLogo}"></single-team-container>
                <single-team-container class="team-div brentford" team-name="Brentford"
                   team-logo="${brentfordLogo}"></single-team-container>
                <single-team-container class="team-div newcastle" team-name="Newcastle"
                    team-logo="${newcastleLogo}"></single-team-container>
                <single-team-container class="team-div fulham" team-name="Fulham"
                  team-logo="${fulhamLogo}"></single-team-container>
                <single-team-container class="team-div leeds-united" team-name="LeedsUnited"
                    team-logo="${leedsLogo}"></single-team-container>
                <single-team-container class="team-div burnley" team-name="Burnley"
                   team-logo="${burnleyLogo}"></single-team-container>
                <single-team-container class="team-div nottm-forest" team-name="NottmForest"
                  team-logo="${nottinghamForestLogo}"></single-team-container>
                <single-team-container class="team-div west-ham" team-name="WestHam"
                    team-logo="${westhamLogo}"></single-team-container>
                <single-team-container class="team-div wolves" team-name="Wolves"
                   team-logo="${wolvesLogo}"></single-team-container>

                    `
    }

    extractAllTeams();

    /*
        const arsenalDiv = document.querySelector(".arsenal");
        const manCityDiv = document.querySelector(".man-city");
        const liverpoolDiv = document.querySelector("liverpool");
        const bornemouthDiv = document.querySelector(".bournemouth");
        const chelseaDiv = document.querySelector(".chelsea");
        const tottenhamDiv = document.querySelector(".tottenham");
        const sunderlandDiv = document.querySelector(".sunderland");
        const crystalPalaceDiv = document.querySelector(".crystal-palace");
        const manUnitedDiv = document.querySelector(".man-united");
        const brightonDiv = document.querySelector(".brighton");
        const astonVillaDiv = document.querySelector(".aston-villa");
        const evertonDiv = document.querySelector(".everton");
        const brentfordDiv = document.querySelector(".brentford");
        const newCastleDiv = document.querySelector(".newcastle");
        const fulhamDiv = document.querySelector(".fulham");
        const leedsUnitedDiv = document.querySelector(".leeds-united");
        const BurnleyDiv = document.querySelector(".burnley");
        const nottmForestDiv = document.querySelector(".nottm-forest");
        const westHamDiv = document.querySelector(".west-ham");
        const wolvesDiv = document.querySelector(".wolves");
    */
    const allTeams = [
        { id: 33, name: "manunited" },
        { id: 34, name: "newcastle" },
        { id: 35, name: "bournemouth" },
        { id: 36, name: "fulham" },
        { id: 39, name: "wolves" },
        { id: 40, name: "liverpool" },
        { id: 42, name: "arsenal" },
        { id: 44, name: "burnley" },
        { id: 45, name: "everton" },
        { id: 47, name: "tottenham" },
        { id: 48, name: "westham" },
        { id: 49, name: "chelsea" },
        { id: 50, name: "mancity" },
        { id: 51, name: "brighton" },
        { id: 52, name: "crystalpalace" },
        { id: 55, name: "brentford" },
        { id: 63, name: "leedsunited" },
        { id: 65, name: "nottmforest" },
        { id: 66, name: "astonvilla" },
        { id: 746, name: "sunderland" }
    ]

    let manunitedFixtures;
    let newcastleFixtures;
    let bournemouthFixtures;
    let fulhamFixtures;
    let wolvesFixtures;
    let liverpoolFixtures;
    let arsenalFixtures;
    let burnleyFixtures;
    let evertonFixtures;
    let tottenhamFixtures;
    let westhamFixtures;
    let chelseaFixtures;
    let mancityFixtures;
    let brightonFixtures;
    let crystalpalaceFixtures;
    let brentfordFixtures;
    let leedsunitedFixtures;
    let nottmforestFixtures;
    let astonvillaFixtures;
    let sunderlandFixtures;

    fetchAndSaveAllTeamsFixtures();

    const screen = document.querySelector(".screen");
    const dataDivOne = document.querySelector(".data-div-one");
    const dataDivTwo = document.querySelector(".data-div-two");


    // The clickedTeamFixturesArray is passed where the function is called in the
    async function displayTeamFixtures(teamFixtures) {
        await fetchAndSaveAllTeamsFixtures();

        // Huge: allFixturesDiv is created only once you have clicked the button
        let allFixturesDiv = document.createElement("div");
        allFixturesDiv.classList.add("all-fixtures-div");
        let closeButton = document.createElement("close-button");
        allFixturesDiv.appendChild(closeButton);

        let resultsHeading = document.createElement("h2");
        resultsHeading.classList.add("results-heading");
        resultsHeading.textContent = `Results`;
        allFixturesDiv.appendChild(resultsHeading);



        for (fixture of teamFixtures) {
            let fixtureRow = document.createElement("fixtures-row");
            fixtureRow.setAttribute("home-team-name", fixture.teams.home.name);
            fixtureRow.setAttribute("away-team-name", fixture.teams.away.name);
            fixtureRow.setAttribute("home-team-goals", fixture.goals.home);
            fixtureRow.setAttribute("away-team-goals", fixture.goals.away);
            allFixturesDiv.appendChild(fixtureRow);
        }
        // The allFixturesDiv has 7 fixtures-row, 7 divs.

        // Here I care only about the content of DataDivOne
        if (dataDivOne.querySelector(".all-fixtures-div")) {
            if (dataDivTwo.querySelector(".all-fixtures-div")) {
                clearDataDivTwo();
                dataDivTwo.appendChild(allFixturesDiv);
                closeButton.setAttribute("onclick", "clearDataDivTwo()");
                dataDivTwo.classList.add("show");
            } else {
                dataDivTwo.appendChild(allFixturesDiv);
                closeButton.setAttribute("onclick", "clearDataDivTwo()");
                dataDivTwo.classList.add("show");
            }
        } else {
            dataDivOne.appendChild(allFixturesDiv);
            closeButton.setAttribute("onclick", "clearDataDivOne()");
            dataDivOne.classList.add("show");
        }


    }


    // Function that will be executed upon the execution of an event
    // It will be able to receive an event object as argument
    function clearDataDivOne() {
        dataDivOne.classList.remove("show");
        dataDivOne.querySelector(".all-fixtures-div").remove();
    }

    function clearDataDivTwo() {
        dataDivTwo.classList.remove("show");
        dataDivTwo.querySelector(".all-fixtures-div").remove();
    }




</script>

</html>